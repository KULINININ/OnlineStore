import{o as l,c as i,r as y,d as h,t as g,n as T,a as w,b as c,e as u,f as W,g as L,h as $,u as v,F as C,i as I,w as b,j as q,k as F,l as R,m as Z,p as J}from"./index-BfLl09AY.js";const k=(e,t)=>{const a=e.__vccOpts||e;for(const[r,o]of t)a[r]=o;return a},V={},H={class:"item-card flex flex-col bg-white p-6 mb-6 shadow transition duration-300 group transform hover:-translate-y-2 hover:shadow-2xl rounded-2xl cursor-pointer border"};function Q(e,t){return l(),i("div",H,[y(e.$slots,"label"),y(e.$slots,"pictures"),y(e.$slots,"code"),y(e.$slots,"name"),y(e.$slots,"footer")])}const z=k(V,[["render",Q]]);var j=(e=>(e.sale="bg-[#eb5757]",e.popular="bg-blue-500",e.eco="bg-lime-500",e))(j||{});const E=h({__name:"ItemCardLabel",props:{labelData:{type:Object}},setup(e){const t=e;return(a,r)=>t.labelData?(l(),i("div",{key:0,class:T(["item-label absolute rounded-lg text-white text-sm px-2 py-1 left-2 top-2 hover:animate-pulse",j[t.labelData.type]])},g(t.labelData.labelText),3)):w("",!0)}}),G={class:"item-pictures"},K=["src","alt"],U=h({__name:"ItemCardPictures",props:{src:{type:String},alt:{type:String}},setup(e){const t=e;return(a,r)=>(l(),i("div",G,[c("img",{src:"/OnlineStore/assets/pictures/"+t.src,alt:t.alt},null,8,K)]))}}),X={class:"item-code text-left text-xs text-gray-500 flex-1"},Y=h({__name:"ItemCardCode",props:{code:{type:String}},setup(e){const t=e;return(a,r)=>(l(),i("div",X,g(t.code),1))}}),ee={class:"item-title text-left text-sm font-semibold"},te=h({__name:"ItemCardName",props:{name:{type:String}},setup(e){const t=e;return(a,r)=>(l(),i("div",ee,g(t.name),1))}}),se={},re={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 stroke-[#54be81]"},ae=c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1),oe=[ae];function ne(e,t){return l(),i("svg",re,oe)}const le=k(se,[["render",ne]]),ie={},ce={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 hover:stroke-[#54be81]"},de=c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"},null,-1),ue=[de];function pe(e,t){return l(),i("svg",ce,ue)}const _e=k(ie,[["render",pe]]),me=c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"},null,-1),he=[me],ge=h({__name:"IconHeart",props:{active:{type:Boolean}},setup(e){const t=e;return(a,r)=>(l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:T(["w-5 h-5 hover:fill-[#eb5757] hover:stroke-[#eb5757]",{"fill-[#eb5757] stroke-[#eb5757]":t.active}])},he,2))}}),ve={class:"item-footer mt-2 flex inline justify-between items-center"},be={class:"item-price flex inline text-sm"},fe={key:0,class:"item-price-old text-gray-500 line-through mr-2"},ye={class:"item-price-current"},ke={class:"item-actions flex items-center"},xe=h({__name:"ItemCardFooter",props:{old_price:{type:Number},current_price:{type:Number},liked:{type:Boolean},inCart:{type:Boolean}},emits:["like","toCart"],setup(e,{emit:t}){const a=t,r=e;return(o,n)=>(l(),i("div",ve,[c("div",be,[r.old_price?(l(),i("div",fe,g(Math.floor(r.old_price)+"₽"),1)):w("",!0),c("div",ye,g(Math.floor(r.current_price)+"₽"),1)]),c("div",ke,[r.inCart?(l(),i("button",{key:0,class:"item-actions-in-cart__button transition duration-300 hover:scale-150",onClick:n[0]||(n[0]=p=>a("toCart"))},[u(le)])):w("",!0),r.inCart?w("",!0):(l(),i("button",{key:1,class:"item-actions-to-cart__button transition duration-300 hover:scale-150",onClick:n[1]||(n[1]=p=>a("toCart"))},[u(_e)])),c("button",{class:"item-actions-like__button ml-2 transition duration-300 hover:scale-150",onClick:n[2]||(n[2]=p=>a("like"))},[u(ge,{active:e.liked},null,8,["active"])])])]))}}),we={},$e={class:"item-card bg-white p-20 mb-6 shadow transition duration-300 group transform hover:-translate-y-2 hover:shadow-2xl rounded-2xl cursor-wait border justify-center flex items-center"},Ce=c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-20 h-20 animate-bounce stroke-gray-300"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})],-1),Ie=[Ce];function Se(e,t){return l(),i("div",$e,Ie)}const Oe=k(we,[["render",Se]]),x=[{id:"1",name:"Ручка дверная",code:"L422WH",price:{old_price:400,current_price:355},image:{url:"door_knob.png"},material:1,labelData:{labelText:"Скидка",type:"sale"}},{id:"2",name:"Ручка, нержавеющ сталь",code:"L423WH",price:{old_price:400.9,current_price:355.555},image:{url:"stainless_door_knob.png"},material:2,labelData:{labelText:"Скидка",type:"sale"}},{id:"3",name:"Стандартные петли",code:"P424WN",price:{old_price:null,current_price:75},image:{url:"hinges_standart.png"},material:2,labelData:{labelText:"Популярное",type:"popular"}},{id:"4",name:"Петля со стопором",code:"PW5AC",price:{old_price:270,current_price:200},image:{url:"hinges_lock.png"},material:2,labelData:{labelText:"Скидка",type:"sale"}},{id:"5",name:"Ручка дверная",code:"LM352",price:{old_price:null,current_price:720},image:{url:"door_knob.png"},material:1,labelData:{labelText:"Эко",type:"eco"}},{id:"6",name:"Ручка, нержавеющ сталь",code:null,price:{old_price:null,current_price:355.555},image:{url:"stainless_door_knob.png"},material:2},{id:"7",name:"Стандартные петли",code:"WD14LK",price:{old_price:null,current_price:75},image:{url:"hinges_standart.png"},material:2},{id:"8",name:"Петля со стопором",code:null,price:{old_price:1200,current_price:900},image:{url:"hinges_lock.png"},material:2,labelData:{labelText:"Скидка",type:"sale"}},{id:"9",name:"Петля со стопором",code:null,price:{old_price:1200,current_price:900},image:{url:"hinges_lock.png"},material:2,labelData:{labelText:"Скидка",type:"sale"}}],De=[{id:1,name:"Дерево",value:"wood"},{id:2,name:"Металл",value:"metal"}];class Te{constructor(){this.items=[]}async getItems(){return new Promise(t=>{setTimeout(()=>{this.items=x,t(x)},500)})}async orderItems(t){return new Promise(a=>{setTimeout(()=>{t==="cheapest"?this.items=this.items.sort((r,o)=>r.price.current_price-o.price.current_price):t==="expensive"&&(this.items=this.items.sort((r,o)=>o.price.current_price-r.price.current_price)),this.orderBy=t,a(this.items)},500)})}async filterItems(t){return new Promise(a=>{setTimeout(()=>{if(t==="all")this.items=x;else{const r=De.find(o=>o.value===t);this.items=x.filter(o=>o.material===(r==null?void 0:r.id))}this.orderItems(this.orderBy).then(()=>{a(this.items)})},500)})}}const D=new Te,P=W("items",{state:()=>({items:[],loading:!0}),actions:{async loadItems(){this.loading=!0,this.items=await D.getItems(),this.loading=!1},async filterItems(e){this.loading=!0,this.items=await D.filterItems(e),this.loading=!1},async sortItems(e){this.loading=!0,this.items=await D.orderItems(e),this.loading=!1}}}),Be={class:"items-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 text-center m-auto"},Me=h({__name:"ItemsGrid",setup(e){const t=P(),a=L(()=>t.items);let r=L(()=>t.loading);const o=$(JSON.parse(localStorage.getItem("likedItems")||"[]")),n=$(JSON.parse(localStorage.getItem("inCartItems")||"[]")),p=d=>o.value.includes(d),m=d=>n.value.includes(d),S=d=>{p(d)?o.value.splice(o.value.indexOf(d),1):o.value.push(d),localStorage.setItem("likedItems",JSON.stringify(o.value))},O=d=>{m(d)?n.value.splice(n.value.indexOf(d),1):n.value.push(d),localStorage.setItem("inCartItems",JSON.stringify(n.value))};return(d,_)=>(l(),i("div",Be,[v(r)?(l(),i(C,{key:0},I(10,s=>c("div",{key:s,class:"items-grid__item-wrapper"},[u(Oe)])),64)):(l(!0),i(C,{key:1},I(a.value,s=>(l(),i("div",{key:s.id,class:"items-grid__item-wrapper flex grow"},[u(z,{item:s},{label:b(()=>[u(E,{labelData:s==null?void 0:s.labelData},null,8,["labelData"])]),pictures:b(()=>{var f;return[u(U,{src:(f=s==null?void 0:s.image)==null?void 0:f.url,alt:s==null?void 0:s.name},null,8,["src","alt"])]}),code:b(()=>[u(Y,{code:(s==null?void 0:s.code)||void 0},null,8,["code"])]),name:b(()=>[u(te,{name:s==null?void 0:s.name},null,8,["name"])]),footer:b(()=>{var f,M;return[u(xe,{old_price:((f=s==null?void 0:s.price)==null?void 0:f.old_price)||void 0,current_price:(M=s==null?void 0:s.price)==null?void 0:M.current_price,liked:p(s.id),inCart:m(s.id),onLike:A=>S(s.id),onToCart:A=>O(s.id)},null,8,["old_price","current_price","liked","inCart","onLike","onToCart"])]}),_:2},1032,["item"])]))),128))]))}}),Le={class:"selector space-y-2"},Ne={class:"selector-label text-sm text-gray-500"},je=["value"],Pe=["value"],N=h({__name:"BaseSelector",props:{options:{type:Array},label:{type:String},selectedOption:{type:String}},emits:["selectChange"],setup(e,{emit:t}){const a=t,r=e,o=n=>{a("selectChange",n)};return(n,p)=>(l(),i("div",Le,[c("div",Ne,g(r.label),1),c("select",{class:"selector-select text-sm bg-gray-100 p-2 rounded-lg",value:r.selectedOption||r.options[0].value,onChange:p[0]||(p[0]=m=>o(m.target.value))},[(l(!0),i(C,null,I(r.options,m=>(l(),i("option",{class:"selector-select__option",key:m.id,value:m.value},g(m.label),9,Pe))),128))],40,je)]))}});var B=(e=>(e.catalog="Каталог",e["sistemy-hraneniya"]="Системы хранения",e["komplekty-stellazhnyh-sistem"]="Комплекты стеллажных систем",e))(B||{});const Ae=h({__name:"BaseBreadcrumbs",props:{path:{type:Array}},setup(e){const t=e;return(a,r)=>{const o=q("RouterLink");return l(!0),i(C,null,I(t.path,(n,p)=>(l(),F(o,{key:n,to:{name:n},class:T(["catalog-breadcrumb__link",{"catalog-breadcrumb__link--last font-bold":p===t.path.length-1}])},{default:b(()=>[R(g(v(B)[n]),1)]),_:2},1032,["to","class"]))),128)}}}),We=k(Ae,[["__scopeId","data-v-de3e8bc1"]]),qe={class:"catalog container mx-auto m-auto space-y-4"},Fe={class:"catalog-breadcrumbs text-sm text-gray-500"},Re={class:"catalog-page-title text-3xl"},Ze={class:"items-filters flex inline space-x-4"},Je={class:"items-grid__wrapper"},He=h({__name:"TheCatalog",setup(e){const t=P(),a=J();let r=$(),o=$();const n=a.currentRoute.value.path.split("/").slice(1),p=[{id:1,value:"popular",label:"Popular"},{id:2,value:"new",label:"New"},{id:3,value:"cheapest",label:"Cheapest"},{id:4,value:"expensive",label:"Expensive"}],m=[{id:1,value:"all",label:"All"},{id:2,value:"wood",label:"Wood"},{id:3,value:"metal",label:"Metal"}],S=_=>{const s={...a.currentRoute.value.query,order:_};a.replace({query:s}),t.sortItems(_)},O=_=>{const s={...a.currentRoute.value.query,material:_};a.replace({query:s}),t.filterItems(_)},d=()=>{const{order:_,material:s}=a.currentRoute.value.query;s&&(t.filterItems(s),r.value=s),_&&(t.sortItems(_),o.value=_)};return t.loadItems().then(()=>{d()}),Z(()=>{}),(_,s)=>(l(),i("div",qe,[c("div",Fe,[u(We,{path:v(n)},null,8,["path"])]),c("div",Re,g(v(B)[v(n)[v(n).length-1]]),1),c("div",Ze,[u(N,{class:"items-filters__selector-order",label:"Order by:",options:p,selectedOption:v(o),onSelectChange:S},null,8,["selectedOption"]),u(N,{class:"items-filters__selector-material",label:"Material:",options:m,selectedOption:v(r),onSelectChange:O},null,8,["selectedOption"])]),c("div",Je,[u(Me)])]))}});export{He as default};
